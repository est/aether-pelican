<!DOCTYPE html>
<html>
  {% include "head.html" %}
  <body class="list-body">
    {% include nav-bar.html" %}
    <main class="card-container side-gutter">
      <header class="list-header">
        <p class="list-header-subtext">{{ SITESUBTITLE }}</p>
        <h1 class="list-header-title">{{ SITENAME }}</h1>
      </header>

      {% if articles %}
      {% for article in articles_page.object_list %}
        <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
          href="{{ .Permalink }}" class="card blog-card" rel="bookmark" >
            {% if article.featuredimage %}
            <div class="card-img-container">
              <picture>
                {% if article.featuredimage_webp %}
                  <source srcset="{{ article.featuredimage_webp }}" type="image/webp">
                {% endif %}
                <source srcset="{{ article.featuredimage }}">
              <img src="{{ article.featuredimage_desc }}"{% if article.featuredimage_desc %} alt="{{ article.featuredimage_desc |escape }}"{% endif %}>
              </picture>

            </div>
            {% endif %}
          <article class="card-body">
            <h2 class="card-title">{{ article.title }}</h2>
            <p class="card-text">{{ article.summary }}</p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="{{ article.date.isoformat() }}">{{ article.locale_date }}</time></p>
              {% if article.category %}<p>{{ article.category }}</p>{% endif %}
            </div>
          </article>
        </a>
        {% endif %}
        {# @ToDo: add pages #}
    </main>
    {% if articles_page.has_other_pages() %}
    <nav class="pagination-nav side-padding">
      {% if articles_page.has_previous() %}<a href="{{ articles_previous_page.url }}" class="pagination-newer">&lt; Newer Posts</a>{% endif %}
      {% if articles_page.has_next() %}<a href="{{ $articles_next_page.url }}" class="pagination-older">Older Posts &gt;</a>{% endif %}
    </nav>

    {% include "scripts.html" %}
  </body>
</html>