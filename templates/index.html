<!DOCTYPE html>
<html>
  {% include "head.html" %}
  <body class="list-body">
    {% include nav-bar.html" %}
    <main class="card-container side-gutter">
      <header class="list-header">
        <p class="list-header-subtext">{{ SITESUBTITLE }}</p>
        <h1 class="list-header-title">{{ SITENAME }}</h1>
      </header>

      {% if articles %}
      {% for article in articles_page.object_list %}

      

      {{- range $paginator.Pages -}}
        <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
          href="{{ .Permalink }}" class="card blog-card" rel="bookmark" >
            {% if article. "featuredimage" -}}
            <div class="card-img-container">
              <picture>
                {{ if (fileExists (printf "%s/%s" "static" (replace (.Params.featuredimage) (path.Ext .Params.featuredimage) ".webp"))) -}}
                  <source srcset="{{ replace (.Params.featuredimage) (path.Ext (.Params.featuredimage)) ".webp" | absURL }}" type="image/webp">
                {{- end }}
                <source srcset="{{ .Params.featuredimage | absURL }}">
                <img src="{{.Params.featuredimage | absURL }}" class="card-img" {{ if isset .Params "featuredimagedescription" }}alt="{{.Params.featuredimagedescription}}"{{end}}>
              </picture>
            </div>
            {{- end }}
          <article class="card-body">
            <h2 class="card-title">{{ .Title }}</h2>
            <p class="card-text">{{ if (isset .Params "description") }}{{ index .Params "description" }}{{ else }}{{ .Summary }}{{ end }}</p>
            <div class="card-subtext muted-text">
              <p>Posted <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "Jan 2, 2006" }}</time></p>
              {{ if (isset .Params "categories") }}<p>{{ range .Params.categories }}#{{ . }} {{ end }}</p>{{ end }}
            </div>
          </article>
        </a>

      {{- end }}
    </main>
    {{ if or ($paginator.HasPrev) ($paginator.HasNext) -}}
    <nav class="pagination-nav side-padding">
      {{ if $paginator.HasPrev }}<a href="{{ $paginator.Prev.URL }}" class="pagination-newer">&lt; Newer Posts</a>{{ end }}
      {{ if $paginator.HasNext }}<a href="{{ $paginator.Next.URL }}" class="pagination-older">Older Posts &gt;</a>{{ end }}
    </nav>
    {{ end -}}
    {{ partial "scripts.html" . }}
  </body>
</html>